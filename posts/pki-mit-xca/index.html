<!DOCTYPE html><html lang="de" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Eigene PKI mit dem Tool XCA" /><meta property="og:locale" content="de" /><meta name="description" content="Für die Erstellung einer eigenen PKI (Publik Key Infrastructure) wird die Anwendung XCA auf der Herstellerseite heruntergeladen und installiert. Diese Anwendung XCA ist für die Erstellung und Verwaltung von X.509-Zertifikaten, Zertifikatsanträgen, privaten RSA-, DSA- und EC-Schlüsseln, Smartcards und CRLs vorgesehen. Alle CAs können rekursiv Sub-CAs signieren. Diese Zertifikatsketten werden übersichtlich dargestellt. Für einen einfachen unternehmensweiten Einsatz gibt es anpassbare Vorlagen, die für die Zertifikats- oder Request-Erstellung verwendet werden können." /><meta property="og:description" content="Für die Erstellung einer eigenen PKI (Publik Key Infrastructure) wird die Anwendung XCA auf der Herstellerseite heruntergeladen und installiert. Diese Anwendung XCA ist für die Erstellung und Verwaltung von X.509-Zertifikaten, Zertifikatsanträgen, privaten RSA-, DSA- und EC-Schlüsseln, Smartcards und CRLs vorgesehen. Alle CAs können rekursiv Sub-CAs signieren. Diese Zertifikatsketten werden übersichtlich dargestellt. Für einen einfachen unternehmensweiten Einsatz gibt es anpassbare Vorlagen, die für die Zertifikats- oder Request-Erstellung verwendet werden können." /><link rel="canonical" href="https://docs.cloud-h.eu/posts/pki-mit-xca/" /><meta property="og:url" content="https://docs.cloud-h.eu/posts/pki-mit-xca/" /><meta property="og:site_name" content="cloud-h Docs" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-19T13:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Eigene PKI mit dem Tool XCA" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-19T13:31:33+02:00","datePublished":"2022-07-19T13:00:00+02:00","description":"Für die Erstellung einer eigenen PKI (Publik Key Infrastructure) wird die Anwendung XCA auf der Herstellerseite heruntergeladen und installiert. Diese Anwendung XCA ist für die Erstellung und Verwaltung von X.509-Zertifikaten, Zertifikatsanträgen, privaten RSA-, DSA- und EC-Schlüsseln, Smartcards und CRLs vorgesehen. Alle CAs können rekursiv Sub-CAs signieren. Diese Zertifikatsketten werden übersichtlich dargestellt. Für einen einfachen unternehmensweiten Einsatz gibt es anpassbare Vorlagen, die für die Zertifikats- oder Request-Erstellung verwendet werden können.","headline":"Eigene PKI mit dem Tool XCA","mainEntityOfPage":{"@type":"WebPage","@id":"https://docs.cloud-h.eu/posts/pki-mit-xca/"},"url":"https://docs.cloud-h.eu/posts/pki-mit-xca/"}</script><title>Eigene PKI mit dem Tool XCA | cloud-h Docs</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="cloud-h Docs"><meta name="application-name" content="cloud-h Docs"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://media-exp2.licdn.com/dms/image/C4E03AQGLSmZ7dBf56w/profile-displayphoto-shrink_400_400/0/1654723653186?e=1660176000&v=beta&t=ZgHEWcmE6112t8YzMjA_VPh5L2eKXkjbEE5BKaPoQjs " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">cloud-h Docs</a></div><div class="site-subtitle font-italic">Documentation for HomeLabs</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>KATEGORIEN</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIV</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/blaugrau90" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Eigene PKI mit dem Tool XCA</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Suchen..."> </span> <span id="search-cancel" >Abbrechen</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Eigene PKI mit dem Tool XCA</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/blaugrau90">Luca-Leon Hausdörfer</a> </em></div><div class="d-flex"><div> <span> Geposted <em class="timeago" data-ts="1658228400" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-07-19 </em> </span> <span> Aktualisiert <em class="timeago" data-ts="1658230293" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-07-19 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="977 Wörter"> <em>5 min</em> lesen</span></div></div></div><div class="post-content"><p>Für die Erstellung einer eigenen PKI (Publik Key Infrastructure) wird die Anwendung XCA auf der <a href="https://hohnstaedt.de/xca/">Herstellerseite</a> heruntergeladen und installiert. Diese Anwendung XCA ist für die Erstellung und Verwaltung von X.509-Zertifikaten, Zertifikatsanträgen, privaten RSA-, DSA- und EC-Schlüsseln, Smartcards und CRLs vorgesehen. Alle CAs können rekursiv Sub-CAs signieren. Diese Zertifikatsketten werden übersichtlich dargestellt. Für einen einfachen unternehmensweiten Einsatz gibt es anpassbare Vorlagen, die für die Zertifikats- oder Request-Erstellung verwendet werden können.</p><h2 id="hinweise-zum-aufbau-einer-unternehmensstruktur"><span class="mr-2">Hinweise zum Aufbau einer Unternehmensstruktur</span><a href="#hinweise-zum-aufbau-einer-unternehmensstruktur" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>In einem Unternehmen werden häufig eine Root CA und entsprechende Sub CAs erstellt, welche dann Server und auch Client-Zertifikate ausstellen und signieren können.</p><p>Der Aufbau einer solchen Struktur kann mit XCA ebenfalls abgebildet werden. XCA kann wie folgt verwendet werden.</p><p>Ein korrekter Aufbau ist deshalb notwendig, um die sog. Chain of Trust sicherzustellen, also die Vertrauenswürdigkeit der gesamten Zertifikatskette von Server-Zertifikat bis zurück zum Root Zertifikat. Der Aufbau und das Signing wird im folgenden Bild beschrieben (<a href="https://en.wikipedia.org/wiki/Chain_of_trust#/media/File:Chain_Of_Trust.svg">https://en.wikipedia.org/wiki/Chain_of_trust#/media/File:Chain_Of_Trust.svg</a>)</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/01.png?raw=true" alt="" data-proofer-ignore></p><h2 id="erstellung-der-root-ca"><span class="mr-2">Erstellung der Root CA</span><a href="#erstellung-der-root-ca" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Um eine solche Struktur einzurichten beginnen wir in XCA mit dem erstellen einer Root CA. Dazu wird die Anwendung zunächst geöffnet und eine neue Datenbank erstellt. (Datei → Neue Datenbank)</p><p>Die Datenbank sollte mit einem sicheren Passwort versehen werden, sodass der unbefugte Zugriff ausgeschlossen ist.</p><h3 id="erstellen-des-root-zertifikats"><span class="mr-2">Erstellen des Root Zertifikats</span><a href="#erstellen-des-root-zertifikats" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Um das Root Zertifikat zu erstellen wird im Tab <em>Zertifikate</em> über die Schaltfläche <em>Neues Zertifikat</em> ein neues Zertifikat generiert.</p><p>Im Dialog wählt man hier zuerst die Default Vorlage für eine <em>CA</em> aus und klickt auf <em>Alles übernehmen</em>. Damit werden die Standart-Settings für ein Root CA Zertifikat gesetzt.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/02.png?raw=true" alt="Erstellung eines neuen, selbstsignierten Zertifikats für die Root CA" data-proofer-ignore></p><p>Mit dem Wechsel auf den Tab <em>Inhaber</em> kommt man zu den weiteren Einstellungen im Zertifikat. Hier sollten alle Felder wie im unten stehenden Screenshot ausgefüllt werden. Wichtig hierbei ist vor allem der <em>Common Name</em>. Dieser enthält den FQDN (Fully Qualified Domain Name) des Servers. In diesem Fall haben wir diesen Namen jedoch noch nicht und tragen daher den Namen der Root CA ein. Bevor man weiter zum nächsten Tab wechselt wird noch ein neuer Key für die CA erstellt. Dieser sollte 4096 Bit lang sein.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/03.png?raw=true" alt="Erstellung des Keys für die Root CA" data-proofer-ignore></p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/04.png?raw=true" alt="Einstellungen zum Inhaber" data-proofer-ignore></p><p>Der Tab Erweiterungen kann so belassen werden. Jedoch sollte man sich hier über die Zeitspanne der Gültigkeit des Zertifikats Gedanken machen. Hier sind default 10 Jahre eingetragen. In der Regel sind Root CAs jedoch 15-30 Jahre gültig, da ein schneller Wechsel von Root Zertifikaten kaum, oder nur mit großem Aufwand möglich ist. Daher sollte der Wert etwas angepasst / angehoben werden. Der Zeitraum wird erst mit dem Klick auf <em>Übernehmen</em> auch wirklich übernommen.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/05.png?raw=true" alt="Zertifikatsgültigkeit" data-proofer-ignore></p><p>Alle weiteren Tabs sind bereits richtig vorkonfiguriert und müssen nicht weiter bearbeitet werden. Mit dem abschließenden Klick auf <em>OK</em> wird das Zertifikat ausgestellt und ist ab dann gültig.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/06.png?raw=true" alt="Ausgestelltes Root CA" data-proofer-ignore></p><h2 id="erstellung-einer-sub-ca---intermediate-certificate"><span class="mr-2">Erstellung einer Sub CA - Intermediate Certificate</span><a href="#erstellung-einer-sub-ca---intermediate-certificate" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Ein Intermediate Certificate, oder auch Zwischenzertifikat, wird dazu verwendet, um dann später Webserver- oder Client-Zertifikate auszustellen. Das Zertifikat der SubCA wird von der Root CA unterschrieben. Der Vorgang der Ausstellung ist also sehr ähnlich, weswegen hier das Root CA als Vorlage dienen kann.</p><h3 id="erstellen-des-sub-zertifikats"><span class="mr-2">Erstellen des Sub Zertifikats</span><a href="#erstellen-des-sub-zertifikats" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Über einen einfachen Rechtsklick auf das Root Zertifikat, kann ein neues, ähnliches Zertifikat generiert werden.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/07.png?raw=true" alt="Erstellen eines Ähnlichen Zertifikats" data-proofer-ignore></p><p>Es öffnet sich anschließend wieder der Ausstellungsdialog. Dort wählt man nun zunächst die Root CA als unterschreibende Zertifizierungsstelle aus und wechselt dann zum Tab Inhaber. Eine Vorlage muss nicht angewendet werden, da wir das Root Zertifikat bereits als Vorlage verwenden.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/08.png?raw=true" alt="Root CA als Signaturzertifikat auswählen" data-proofer-ignore></p><p>Im <em>Inhaber</em> Tab wird dann noch der Interne und der Common Name angepasst. Hier bietet es sich an, die Sub CA eventuell direkt zu spezifizieren und eine Versionsnummer mit anzugeben. Auch hier ist es wichtig, wieder einen neuen Schlüssel mit 4096 Bit zu generieren.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/09.png?raw=true" alt="" data-proofer-ignore></p><p>Im Tab Erweiterungen muss die Gültigkeitsdauer ebenfalls entsprechend geändert werden. Es empfiehlt sich, hier einen kleineren Zeitraum als den von der Root CA zu verwenden. In der Regel die Halbe Zeit der Root CA.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/10.png?raw=true" alt="" data-proofer-ignore></p><p>Mit <em>Übernehmen</em> und <em>OK</em> wird auch dieses Zertifikat erstellt und ist nun in der Liste sichtbar. Deutlich wird hier bereits, dass eine Zertifikatskette entstanden ist, welche aufeinander aufbaut.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/11.png?raw=true" alt="Zertifikatskette von Root und Sub CA" data-proofer-ignore></p><h2 id="erstellen-von-server-zertifikaten"><span class="mr-2">Erstellen von Server Zertifikaten</span><a href="#erstellen-von-server-zertifikaten" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Nach der Erstellung der Root und Sub CA, können nun entsprechende Server Zertifikate ausgestellt werden. Diese dienen für den Browser dann zur verschlüsselten Verbindung zwischen User und Server.</p><p>Die Erstellung solcher Zertifikate ist ebenso einfach wie auch für die CA Zertifikate. Lediglich die Vorlage für die Ausstellung ist eine andere.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/12.png?raw=true" alt="Erstellung eines Serverzertifikats von der Sub CA unterschrieben" data-proofer-ignore></p><p>Im vorangegangenen Screenshot wird entsprechend <em>TLS_Server</em> als Vorlage übernommen und die Sub CA als unterschreibende CA ausgewählt. Der Inhaber Tab ist ähnlich auszufüllen wie bei den CA Zertifikaten.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/13.png?raw=true" alt="" data-proofer-ignore></p><p>Besonders wichtig sind hier jedoch der Interne und auch der Common Name. Im CN MUSS der FQDN stehen. Der Interne Name ist frei wählbar, sollte jedoch auf den Hostname des Servers verweisen. Bei der Erstellung des Keys für dieses Zertifikat ist eine 2048 Bit Keylänge ausreichend.</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/14.png?raw=true" alt="" data-proofer-ignore></p><p>Im Tab <em>Erweitert</em> werden neben dem Gültigkeitszeitraum auch noch weitere Settings gemacht. Unter <em>Subject Alternative Name</em> sollten mindestens drei Einträge stehen. Zum einen der FQDN (dieser wird durch den bereits vorhandenen Eintrag automatisch befüllt), sowie der Hostname (DNS:hostname) und eine IP (IP:10.10.10.20).</p><p><img data-src="https://github.com/blaugrau90/blaugrau90.github.io/blob/main/assets/img/postimg/2022-07-19-pki-mit-xca/15.png?raw=true" alt="" data-proofer-ignore></p><p>Nach diesem Schritt kann auch hier wieder mit <em>OK</em> das Zertifikat entsprechend erstellt werden.</p><h2 id="fazit"><span class="mr-2">Fazit</span><a href="#fazit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Die Einrichtung und Konfiguration einer eigenen PKI mit dem Tool XCA ist sehr einfach und übersichtlich. Alle Zertifikate und Keys werden sicher in einer Datenbank aufbewahrt und sind mit einem Passwort geschützt. Wer sich ganz Sicher sein will, dass die Root CA nicht kompromittiert wird, erstellt jeweils für die Root CA und für die Sub CA eine eigene Datenbank und bewahrt diese getrennt voneinander und mit verschiedenen Kennwörtern auf.</p><p>Die Einrichtung von Getrennten CAs ist nicht merklich schwieriger. Hier wird nur nach dem Erstellen der Sub CA selbige mit den entsprechenden Zertifikats- und Key-Files als PKCS12 (.pfx-File) Exportiert und eine neue Datenbank erstellt. Anschließend wird die CA hier wieder importiert und kann dann verwendet werden um Server- oder Client-Zertifikate zu unterschreiben.</p><p>Zertifikate und Keyfiles lassen sich sehr einfach Exportieren und können so auf Webservern einfach wieder als File importiert werden.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/homelab/'>Homelab</a>, <a href='/categories/security/'>Security</a>, <a href='/categories/ssl/'>SSL</a>, <a href='/categories/zertifikate/'>Zertifikate</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/xca/" class="post-tag no-text-decoration" >xca</a> <a href="/tags/pki/" class="post-tag no-text-decoration" >pki</a> <a href="/tags/ssl/" class="post-tag no-text-decoration" >ssl</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Dieser Beitrag wurde durch den Autor mit der Lizenz <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> lizenziert.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Teilen</span> <span class="share-icons"> <a href="https://www.facebook.com/sharer/sharer.php?title=Eigene PKI mit dem Tool XCA - cloud-h Docs&amp;u=https://docs.cloud-h.eu/posts/pki-mit-xca/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://docs.cloud-h.eu/posts/pki-mit-xca/&amp;text=Eigene PKI mit dem Tool XCA - cloud-h Docs" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://api.whatsapp.com/send?text=https://docs.cloud-h.eu/posts/pki-mit-xca/%0ASchau%20dir%20doch%20den%20Beitrag%20einmal%20an%3A%20Eigene PKI mit dem Tool XCA - cloud-h Docs" data-toggle="tooltip" data-placement="top" title="Whatsapp" target="_blank" rel="noopener" aria-label="Whatsapp"> <i class="fa-fw fab fa-whatsapp"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Link kopieren" data-title-succeed="Link erfolgreich kopiert!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Kürzlich aktualisiert</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/pki-mit-xca/">Eigene PKI mit dem Tool XCA</a><li><a href="/posts/fsck/">Korruptes Filesystem mit fsck reparieren</a><li><a href="/posts/postfix-mailforwarder/">Postfix Mailforwarder unter Linux einrichten</a><li><a href="/posts/cloud-h-docs/">Willkommen auf auf docs.cloud-h.eu</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/filesystem/">filesystem</a> <a class="post-tag" href="/tags/fsck/">fsck</a> <a class="post-tag" href="/tags/mail/">mail</a> <a class="post-tag" href="/tags/mailforwarder/">mailforwarder</a> <a class="post-tag" href="/tags/pki/">pki</a> <a class="post-tag" href="/tags/postfix/">postfix</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/smtp/">smtp</a> <a class="post-tag" href="/tags/ssl/">ssl</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Inhalte</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Weitere Posts</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/cloud-h-docs/"><div class="card-body"> <em class="timeago small" data-ts="1654786800" > 2022-06-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Willkommen auf auf docs.cloud-h.eu</h3><div class="text-muted small"><p> Herzlich Willkommen auf docs.cloud-h.eu - der Seite für alle Home Lab Enthusiasten, die neue Dinge lernen und ausprobieren wollen. Hier werden unregelmäßig neue Posts zu verschiedenen Themen rund ...</p></div></div></a></div><div class="card"> <a href="/posts/postfix-mailforwarder/"><div class="card-body"> <em class="timeago small" data-ts="1654788600" > 2022-06-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Postfix Mailforwarder unter Linux einrichten</h3><div class="text-muted small"><p> Postfix Mailforwarder In diesem Artikel wird Postfix so konfiguriert, dass es E-Mails über einen externen SMTP-Server weiterleitet. Der Vorteil daran ist, dass man seinen Mailserver nicht selbst a...</p></div></div></a></div><div class="card"> <a href="/posts/fsck/"><div class="card-body"> <em class="timeago small" data-ts="1655744520" > 2022-06-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Korruptes Filesystem mit fsck reparieren</h3><div class="text-muted small"><p> Gelegentlich kann es vorkommen, dass auf Festplatten Blöcke korrupt werden und das File System in einen Read Only Zustand gerät. Wie man solche korrupten Blöcke wieder “repariert” wird im Folgenden...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/fsck/" class="btn btn-outline-primary" prompt="Älter"><p>Korruptes Filesystem mit fsck reparieren</p></a> <span class="btn btn-outline-primary disabled" prompt="Neuer"><p>-</p></span></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "blaugrau90/blaugrau90.github.io", "data-repo-id": "R_kgDOHeLQYA", "data-category": "Comments", "data-category-id": "DIC_kwDOHeLQYM4CPy2N", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "de", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/blaugrau90">Luca-Leon Hausdörfer</a>. <span data-toggle="tooltip" data-placement="top" title="Sofern nicht anders angegeben, sind die Blogbeiträge auf dieser Website lizenziert unter der Creative Commons Attribution 4.0 International (CC BY 4.0) Lizenz des Autors.">Einige Rechte vorbehalten.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/filesystem/">filesystem</a> <a class="post-tag" href="/tags/fsck/">fsck</a> <a class="post-tag" href="/tags/mail/">mail</a> <a class="post-tag" href="/tags/mailforwarder/">mailforwarder</a> <a class="post-tag" href="/tags/pki/">pki</a> <a class="post-tag" href="/tags/postfix/">postfix</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/smtp/">smtp</a> <a class="post-tag" href="/tags/ssl/">ssl</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! Es wurden keine Ergebniss gefunden.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/de.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-V2P6KTLKRF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-V2P6KTLKRF'); }); </script>
